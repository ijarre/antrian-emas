# Place this file (renamed without -example) into /etc/nginx/conf.d/ or inside the main nginx.conf http { } block.
# Defines a shared memory zone for rate limiting requests per client IP.
# Adjust rate (e.g., 1r/s, 5r/s, 30r/m) and zone size (10m stores roughly 160k states) to your needs.
#
# After placing this globally, you can enable in a server/location:
#   limit_req zone=antam_limit burst=10 nodelay;
# or without nodelay to allow short queueing:
#   limit_req zone=antam_limit burst=10;
#
# IMPORTANT: Only ONE definition of the same zone name may exist.
# Restart or reload Nginx after adding:  nginx -t && systemctl reload nginx

limit_req_zone $binary_remote_addr zone=antam_limit:10m rate=1r/s;
